<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>PP2.10</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
  </head>

  <body>
    <section class="container p-3 m-3">
      <div class="row">
        <div class="col-md-6">
          <h1 class="mb-3">Voting</h1>
          <div class="d-flex gap-4 align-items-center">
            <label for="johnVoteBtn">
              <input type="radio" id="johnVoteBtn" name="member" value="John" />
              Vote for John
            </label>
            <label for="aliceVoteBtn">
              <input
                type="radio"
                id="aliceVoteBtn"
                name="member"
                value="Alice"
              />
              Vote for Alice
            </label>
            <button id="voteBtn" type="button" class="btn btn-primary">
              Vote
            </button>
          </div>
        </div>
      </div>
    </section>

    <section class="container m-3">
      <div class="row">
        <div class="col-md-6">
          <h2>Vote count for John:</h2>
          <p id="johnVoteCount">0</p>
        </div>
        <div class="col-md-6">
          <h2>Vote count for Alice:</h2>
          <p id="aliceVoteCount">0</p>
        </div>
      </div>
    </section>

    <section class="container m-3">
      <div class="row">
        <div class="col-md-6">
          <h2>Current Winner:</h2>
          <p id="showWinner">No votes yet!</p>
        </div>
      </div>
    </section>

    <script>
      const johnVoteBtn = document.getElementById('johnVoteBtn');
      const aliceVoteBtn = document.getElementById('aliceVoteBtn');
      const voteBtn = document.getElementById('voteBtn');
      const johnVoteCount = document.getElementById('johnVoteCount');
      const aliceVoteCount = document.getElementById('aliceVoteCount');
      const showWinner = document.getElementById('showWinner');

      let johnCount = 0;
      let aliceCount = 0;

      voteBtn.addEventListener('click', () => {
        const selectedMember = document.querySelector(
          'input[name = member]:checked'
        );
        // console.log(selectedMember.value)
        displayCount(selectedMember.value);
        showResult();
      });

      const displayCount = (memberName) => {
        if (memberName === 'John') {
          johnCount++;
          johnVoteCount.textContent = `${johnCount}`;
        } else {
          aliceCount++;
          aliceVoteCount.textContent = `${aliceCount}`;
        }
      };

      const showResult = () => {
        if (johnCount === aliceCount) {
          showWinner.textContent = `It's a tie with ${johnCount} vote${
            johnCount > 1 ? 's' : ''
          } each!`;
        } else if (johnCount > aliceCount) {
          showWinner.textContent = `John is winning with ${johnCount} vote${
            johnCount > 1 ? 's' : ''
          }!`;
        } else {
          showWinner.textContent = `Alice is winning with ${aliceCount} vote${
            aliceCount > 1 ? 's' : ''
          }!`;
        }
      };
    </script>
  </body>
</html>
