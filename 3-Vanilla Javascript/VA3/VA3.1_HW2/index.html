<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>VA3.1_HW2</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
  </head>

  <body>
    <header class="container my-3">
      <h1>Personal Finance Tracker</h1>
    </header>

    <section class="container">
      <div class="input-group mb-3">
        <input
          type="text"
          id="transactionNameInput"
          placeholder="Transaction Name"
          class="form-control"
        />
        <input
          type="number"
          id="transactionAmountInput"
          placeholder="Amount"
          class="form-control"
        />
        <button id="addBtn" class="btn btn-primary">Add</button>
      </div>
    </section>

    <section class="container">
      <p id="inputFieldValidate"></p>
      <ul id="transactionList" class="list-group"></ul>
    </section>

    <script>
      const transactionNameInput = document.getElementById(
        'transactionNameInput'
      );
      const transactionAmountInput = document.getElementById(
        'transactionAmountInput'
      );
      const addBtn = document.getElementById('addBtn');
      const transactionList = document.getElementById('transactionList');
      const inputFieldValidate = document.getElementById('inputFieldValidate');

      addBtn.addEventListener('click', function () {
        name = transactionNameInput.value;
        amount = transactionAmountInput.value;
        // console.log(name, amount)

        if (name == '' || amount == '') {
          inputFieldValidate.textContent =
            'Please enter transaction name and amount.';
        } else {
          const listElement = document.createElement('li');
          listElement.className = 'list-group-item';
          // console.log(listElement)
          listElement.innerHTML = `<div class="d-flex justify-content-between"><p class="my-2">${name} Rs.${amount}.00</p><button id="deleteBtn" class="btn btn-danger" onClick="deleteTransaction(this)">Delete</button></div>`;

          transactionList.appendChild(listElement);
          goToDefault();
        }

        //divs edges are sharp while list group edges are rounded
        // const divElement = document.createElement('div')
        // divElement.innerHTML = `<li class="list-group-item d-flex justify-content-between"><p class="my-2">${transactionNameInput.value} Rs.${transactionAmountInput.value}00</p><button class="btn btn-danger btn-sm">Delete</button></li>`

        // transactionList.appendChild(divElement)
      });

      function deleteTransaction(deleteBtn) {
        //want to delete li tag, not div
        const listItem = deleteBtn.parentElement.parentElement;
        // console.log(listItem)
        listItem.remove();
      }

      function goToDefault() {
        transactionNameInput.value = '';
        transactionAmountInput.value = '';
        inputFieldValidate.textContent = '';
      }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
