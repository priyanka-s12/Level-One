<!DOCTYPE html>
<html>
  <head>
    <title>Calories Report</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  </head>

  <body>
    <header class="mb-3">
      <nav class="navbar navbar-expand-lg bg-light">
        <div class="container">
          <a class="navbar-brand fw-medium" href="index.html">MyHealth</a>

          <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarNav"
            aria-controls="navbarNav"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>

          <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav">
              <li class="nav-item">
                <a href="index.html" class="nav-link">Home</a>
              </li>
              <li class="nav-item">
                <a href="caloriesReport.html" class="nav-link">Calories</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="workout.html">Report</a>
              </li>
            </ul>
          </div>
        </div>
      </nav>
    </header>

    <main>
      <section class="container mb-5">
        <form>
          <div class="py-3">
            <label for="dayInput" class="mb-2">Day:</label>
            <br />
            <input type="text" id="dayInput" class="form-control" required />
          </div>
          <div class="py-3">
            <label for="calConsumedInput" class="mb-2">
              Colories Consumed:
            </label>
            <br />
            <input
              type="number"
              id="calConsumedInput"
              class="form-control"
              required
            />
          </div>
          <div class="py-3">
            <label for="calBurnedInput" class="mb-2">Calories Burned:</label>
            <br />
            <input
              type="number"
              id="calBurnedInput"
              class="form-control"
              required
            />
          </div>

          <button
            class="btn btn-primary my-1"
            type="button"
            id="addCaloriesBtn"
          >
            Add Calories
          </button>
        </form>
      </section>

      <section>
        <div id="caloriesDetail" class="container"></div>
      </section>
    </main>

    <script>
      const calories = [
        {
          id: 1,
          day: 'Day 1',
          caloriesConsumed: 2000,
          caloriesBurned: 300,
        },
        {
          id: 2,
          day: 'Day 2',
          caloriesConsumed: 1800,
          caloriesBurned: 400,
        },
      ];
      const addCaloriesBtn = document.querySelector('#addCaloriesBtn');
      //console.log(addCaloriesBtn)
      //display data on the screen
      const caloriesDetail = document.getElementById('caloriesDetail');

      function updateCaloriesDetail() {
        caloriesDetail.innerHTML = '';
        for (let i = 0; i < calories.length; i++) {
          //row
          const row = document.createElement('div');
          row.className = 'row';

          //col
          const col = document.createElement('div');
          col.className = 'col-md-6 mb-3';

          //card
          const card = document.createElement('div');
          card.className = 'card';

          const cardHeader = document.createElement('div');
          cardHeader.className = 'card-header';
          const h3 = document.createElement('h3');
          h3.className = 'card-title';
          h3.textContent = `${calories[i].day}`;
          cardHeader.appendChild(h3);

          const cardBody = document.createElement('div');
          cardBody.className = 'card-body';

          const caloriesConsumed = document.createElement('p');
          caloriesConsumed.className = 'card-text';
          caloriesConsumed.innerHTML = `<strong>Calories Consumed: </strong>${calories[i].caloriesConsumed}`;
          cardBody.appendChild(caloriesConsumed);

          const caloriesBurned = document.createElement('p');
          caloriesBurned.className = 'card-text';
          caloriesBurned.innerHTML = `<strong>Calories Consumed: </strong>${calories[i].caloriesBurned}`;
          cardBody.appendChild(caloriesBurned);

          card.appendChild(cardHeader);
          card.appendChild(cardBody);

          col.appendChild(card);
          row.appendChild(col);
          caloriesDetail.appendChild(row);
        }
      }

      addCaloriesBtn.addEventListener('click', function () {
        const dayInput = document.querySelector('#dayInput').value;
        const calConsumedInput =
          document.querySelector('#calConsumedInput').value;
        const calBurnedInput = document.querySelector('#calBurnedInput').value;

        console.log(dayInput, calConsumedInput, calBurnedInput);
        if (dayInput && calConsumedInput && calBurnedInput) {
          const newId = calories.length + 1;
          //create an obj
          const newData = {
            id: newId,
            day: dayInput,
            caloriesConsumed: calConsumedInput,
            caloriesBurned: calBurnedInput,
          };
          calories.push(newData);
          updateCaloriesDetail();
        }
      });
      updateCaloriesDetail();
    </script>
  </body>
</html>
