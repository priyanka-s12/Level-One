<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>VA5.2_HW1</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
  </head>

  <body>
    <div class="container mt-4">
      <div class="text-center">
        <h1>Advice Slip API</h1>
        <button id="getAdviceBtn" class="btn btn-primary mt-3">
          Get Advice
        </button>
        <div id="adviceContainer" class="mt-3"></div>
      </div>
    </div>

    <script>
      const getAdviceBtn = document.querySelector('#getAdviceBtn');
      const adviceContainer = document.querySelector('#adviceContainer');
      const apiUrl = 'https://api.adviceslip.com/advice';

      getAdviceBtn.addEventListener('click', function () {
        fetch(apiUrl)
          .then(function responseHandler(response) {
            return response.json();
          })
          .then(function showData(data) {
            // console.log(data)
            if (data.slip.advice) {
              adviceContainer.innerHTML = `<strong>${data.slip.advice}</strong>`;
            } else {
              adviceContainer.textContent = 'Failed to get an advice.';
            }
          })
          .catch(function showError(error) {
            adviceContainer.textContent =
              'An error occured while getting an advice.';
          });
      });
    </script>
  </body>
</html>
