<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>Laptop Store</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  </head>

  <body>
    <header>
      <nav class="navbar navbar-expand-lg bg-body-tertiary py-3">
        <div class="container">
          <a class="navbar-brand fw-medium" href="index.html">
            Laptop Database
          </a>
          <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarNav"
            aria-controls="navbarNav"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>

          <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav">
              <li class="navbar-item">
                <a class="nav-link" href="index.html">Home</a>
              </li>
              <li class="navbar-item">
                <a class="nav-link" href="laptops.html">Laptops</a>
              </li>
              <li class="navbar-item">
                <a class="nav-link" href="report.html">Report</a>
              </li>
            </ul>
          </div>
        </div>
      </nav>
    </header>

    <main class="py-3">
      <section class="container">
        <h2 class="mb-3">Laptop Details</h2>
        <div id="resultData"></div>
      </section>
    </main>
    <script>
      const laptops = [
        {
          id: 1,
          brand: 'Dell',
          model: 'Inspiron 15',
          details: 'Powerful performance in a sleek design.',
          laptopImg:
            'https://placehold.co/300x200/EFEFEFF/grey?text=Dell%20Inspiron%2015',
          processor: 'Intel Core i7',
          RAM: '16GB',
          storage: '512GB SSD',
          price: 1200,
        },
        {
          id: 2,
          brand: 'HP',
          model: 'Pavilion x360',
          details:
            'Versatile 2-in-1 laptop for productivity and entertainment.',
          laptopImg:
            'https://placehold.co/300x200/EFEFEFF/grey?text=HP%20Pavilion%20x360',
          processor: 'AMD Ryzen 5',
          RAM: '8GB',
          storage: '256GB SSD',
          price: 900,
        },
        {
          id: 3,
          brand: 'Lenovo',
          model: 'ThinkPad X1 Carbon',
          details: 'Ultra-lightweight and durable business laptop.',
          laptopImg:
            'https://placehol.co/300x200/EFEFEFF/grey?text=Lenovo%20ThinkPad%20X1%20Carbon',
          processor: 'Intel Core i5',
          RAM: '8GB',
          storage: '256GB SSD',
          price: 1500,
        },
      ];

      const resultData = document.querySelector('#resultData');

      //1st get id from url
      function getId(id) {
        const url = new URL(window.location.href);
        return url.searchParams.get(id);
      }
      let laptopId = getId('id');
      console.log(laptopId);
      //2nd get id data from db

      let laptopObject;
      for (let i = 0; i < laptops.length; i++) {
        if (laptops[i].id == laptopId) {
          laptopObject = laptops[i];
        }
      }
      console.log(laptopObject);

      //3rd display data on the page
      function generateCard() {
        if (laptopObject) {
          const card = document.createElement('div');
          card.className = 'card w-75';

          const img = document.createElement('img');
          img.className = 'm-3 w-50';
          // img.style = 'width: 50%'
          img.src = `${laptopObject.laptopImg}`;
          img.alt = `${laptopObject.brand} ${laptopObject.model}`;

          const cardBody = document.createElement('div');
          cardBody.className = 'card-body';

          const brand = document.createElement('h3');
          brand.innerHTML = `${laptopObject.brand} ${laptopObject.model}`;

          const details = document.createElement('p');
          details.className = 'card-text';
          details.innerHTML = `<strong>Details: </strong>${laptopObject.details}`;

          const processor = document.createElement('p');
          processor.className = 'card-text';
          processor.innerHTML = `<strong>Processor: </strong>${laptopObject.processor}`;

          const ram = document.createElement('p');
          ram.className = 'card-text';
          ram.innerHTML = `<strong>RAM: </strong>${laptopObject.RAM}`;

          const storage = document.createElement('p');
          storage.className = 'card-text';
          storage.innerHTML = `<strong>Storage: </strong>${laptopObject.storage}`;

          card.appendChild(img);

          cardBody.appendChild(brand);
          cardBody.appendChild(details);
          cardBody.appendChild(processor);
          cardBody.appendChild(ram);
          cardBody.appendChild(storage);

          card.appendChild(cardBody);

          resultData.appendChild(card);
        } else {
          resultData.innerHTML = `<p>Laptop not found</p>`;
        }
      }
      generateCard();
    </script>
  </body>
</html>
